<!DOCTYPE html>
<html>
<body>

<h1>Grocery Order</h1>

<textarea id="groceries" name="groceries" rows="50" cols="50">
eggs
bananas
milk
bread
</textarea>

<br><br>

<button onclick="toInstacart()">To Instacart</button>

<script>
function toInstacart() {
  url = "https://www.instacart.com/store/partner_recipe?title=Grocery+List";
  ingredient_parameter = "&ingredients%5B%5D=";

  lines = document.getElementById("groceries").innerHTML.trim().split(/\r?\n/);
  url += ingredient_parameter;
  url += lines.join(ingredient_parameter);
  
  window.location.href = url;
}
</script>

</body>
</html>
